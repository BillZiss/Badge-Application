@using Magenic.BadgeApplication.BusinessLogic.Badge
@using Magenic.BadgeApplication.BusinessLogic.Activity
@using Magenic.BadgeApplication.Extensions
@using Magenic.BadgeApplication.Resources
@using Magenic.BadgeApplication.Common.Enums
@using Csla.Web.Mvc
@using Csla.Rules
@using Csla

@{
    // Need to do this to fire off AddBusinessRules so HasPermission works.
    var fakeBadgeItem = new ApproveBadgeItem();
    var fakeActivityItem = new ApproveActivityItem();
}

<ul class="nav nav-pills">
    <li>
        @Html.ActionLink(ApplicationResources.AddEditBadges, Mvc.BadgeManager.Index())
    </li>

    <li>
        @Html.ActionLink(ApplicationResources.ManageActivitiesLink, Mvc.BadgeManager.ManageActivities())
    </li>

    @Html.HasPermission(AuthorizationActions.GetObject, typeof(ApproveBadgeItem), Html.GenerateConditionalNavigation(ApplicationResources.CommunityBadgesForApproval, Mvc.BadgeManager.ApproveCommunityBadges()), String.Empty)

    <li>
        @Html.ActionLink(ApplicationResources.PointsReport, Mvc.BadgeManager.PointsReport())
    </li>

    @Html.HasPermission(AuthorizationActions.GetObject, typeof(ApproveActivityItem), Html.GenerateConditionalNavigation(ApplicationResources.ActivitiesForApproval, Mvc.BadgeManager.ApproveActivities().Result), String.Empty)
</ul>